// serial = int4
// bigserial = int8

DDL - Email Sender

------------------------------------
--------Cara Sequence---------------

CREATE SEQUENCE email_sender_id_seq;

CREATE TABLE public.email_sender (
	id int8 NOT NULL DEFAULT nextval('email_sender_id_seq'::regclass),
	email varchar(255) NOT NULL,
	password varchar(255) NOT NULL,
	host varchar(255) NOT NULL,
	port int4 NOT NULL,
	is_ssl bool NOT NULL,
	CONSTRAINT email_sender_pkey PRIMARY KEY (id)
)

EDIT TABLE email_template_category
=====================================
ALTER TABLE public.email_template_category ALTER COLUMN id TYPE int8 USING id::int8 ;
ALTER TABLE public.email_template_category ADD description varchar(255) NULL ;
ALTER TABLE public.email_template_category ALTER COLUMN active SET DEFAULT true ;


DDL - EMAIL HISTORY
=====================================
CREATE SEQUENCE email_history_id_seq;
CREATE TABLE public.email_history (
	id int8 NOT NULL DEFAULT nextval('email_history_id_seq'::regclass),
	to_recipient varchar(255) NOT NULL,
	bcc text NULL,
	cc text NULL,
	subject varchar(255) NOT NULL,
	body text NULL,
	sent_date date NOT NULL,
	sent_time time NOT NULL,
	email_template_category_id int8 NULL,
	sender_id int8 NOT NULL,
	sent bool NOT NULL DEFAULT FALSE,
	CONSTRAINT email_history_pk PRIMARY KEY (id),
	CONSTRAINT email_history_email_sender_fk FOREIGN KEY (sender_id) REFERENCES public.email_sender(id),
	CONSTRAINT email_history_email_template_category_fk FOREIGN KEY (email_template_category_id) REFERENCES public.email_template_category(id) ON DELETE CASCADE ON UPDATE CASCADE
)
WITH (
	OIDS=FALSE
) ;
